<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Motor Dashboard &mdash; gym-electric-motor 2021 documentation</title><link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Action Plot" href="motor_dashboard_plots/action_plot.html" />
    <link rel="prev" title="Visualization" href="visualization.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> gym-electric-motor
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Gym Electric Motor Readme:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../readme.html">Readme File</a></li>
</ul>
<p class="caption"><span class="caption-text">gym-electric-motor Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../environments/environment.html">Environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference_generators/reference_generator.html">Reference Generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reward_functions/reward_function.html">Reward Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../physical_systems/physical_system.html">Physical Systems</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="visualization.html">Visualization</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Motor Dashboard</a><ul>
<li class="toctree-l3"><a class="reference internal" href="motor_dashboard_plots/action_plot.html">Action Plot</a></li>
<li class="toctree-l3"><a class="reference internal" href="motor_dashboard_plots/cumulative_constraint_violation_plot.html">Cumulative Constraint Violation Plot</a></li>
<li class="toctree-l3"><a class="reference internal" href="motor_dashboard_plots/episode_length_plot.html">Episode Length Plot</a></li>
<li class="toctree-l3"><a class="reference internal" href="motor_dashboard_plots/episode_plots.html">Episode Plot (Abstract)</a></li>
<li class="toctree-l3"><a class="reference internal" href="motor_dashboard_plots/mean_episode_reward_plot.html">Mean Episode Reward Plot</a></li>
<li class="toctree-l3"><a class="reference internal" href="motor_dashboard_plots/reward_plot.html">Reward Plot</a></li>
<li class="toctree-l3"><a class="reference internal" href="motor_dashboard_plots/state_plot.html">State Plot</a></li>
<li class="toctree-l3"><a class="reference internal" href="motor_dashboard_plots/step_plot.html">Step Plot (Abstract)</a></li>
<li class="toctree-l3"><a class="reference internal" href="motor_dashboard_plots/time_plot.html">Time Plot (Abstract)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="console_printer.html">Console Printer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../constraint_monitor.html">Constraint Monitor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core.html">Core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils.html">Utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../callbacks.html">Callbacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../random_component.html">Random Component</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">gym-electric-motor</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="visualization.html">Visualization</a> &raquo;</li>
      <li>Motor Dashboard</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/parts/visualizations/motor_dashboard.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="motor-dashboard">
<h1><a class="toc-backref" href="#id1">Motor Dashboard</a><a class="headerlink" href="#motor-dashboard" title="Permalink to this headline"></a></h1>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#motor-dashboard" id="id1">Motor Dashboard</a></p>
<ul>
<li><p><a class="reference internal" href="#usage-guide" id="id2">Usage Guide</a></p></li>
<li><p><a class="reference internal" href="#motor-dashboard-api" id="id3">Motor Dashboard API</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">Available Plots:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="motor_dashboard_plots/action_plot.html">Action Plot</a></li>
<li class="toctree-l1"><a class="reference internal" href="motor_dashboard_plots/cumulative_constraint_violation_plot.html">Cumulative Constraint Violation Plot</a></li>
<li class="toctree-l1"><a class="reference internal" href="motor_dashboard_plots/episode_length_plot.html">Episode Length Plot</a></li>
<li class="toctree-l1"><a class="reference internal" href="motor_dashboard_plots/episode_plots.html">Episode Plot (Abstract)</a></li>
<li class="toctree-l1"><a class="reference internal" href="motor_dashboard_plots/mean_episode_reward_plot.html">Mean Episode Reward Plot</a></li>
<li class="toctree-l1"><a class="reference internal" href="motor_dashboard_plots/reward_plot.html">Reward Plot</a></li>
<li class="toctree-l1"><a class="reference internal" href="motor_dashboard_plots/state_plot.html">State Plot</a></li>
<li class="toctree-l1"><a class="reference internal" href="motor_dashboard_plots/step_plot.html">Step Plot (Abstract)</a></li>
<li class="toctree-l1"><a class="reference internal" href="motor_dashboard_plots/time_plot.html">Time Plot (Abstract)</a></li>
</ul>
</div>
<div class="section" id="usage-guide">
<h2><a class="toc-backref" href="#id2">Usage Guide</a><a class="headerlink" href="#usage-guide" title="Permalink to this headline"></a></h2>
<p>To use the dashboard, you have to import the class, define the plots,
instantiate the dashboard and pass it to the environment.</p>
<p>The most common plots can be quickly selected directly in the constructor of the dashboard.
Further plots like a <em>MeanEpisodeRewardPlot</em> or self-defined ones have to be instantiated and passed to the dashboard.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">gym_electric_motor</span> <span class="k">as</span> <span class="nn">gem</span>
<span class="kn">from</span> <span class="nn">gym_electric_motor.visualization</span> <span class="kn">import</span> <span class="n">MotorDashboard</span>
<span class="kn">from</span> <span class="nn">gym_electric_motor.visualization.motor_dashboard_plots</span> <span class="kn">import</span> <span class="n">MeanEpisodeRewardPlot</span>

<span class="c1"># create the dashboard and define the plots</span>
<span class="n">dashboard</span> <span class="o">=</span> <span class="n">MotorDashboard</span><span class="p">(</span>
    <span class="n">state_plots</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;omega&#39;</span><span class="p">,</span> <span class="s1">&#39;i&#39;</span><span class="p">],</span> <span class="c1"># Pass a list of state names or &#39;all&#39; for all states to plot</span>
    <span class="n">reward_plot</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="c1"># True / False (False default)</span>
    <span class="n">action_plots</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># &#39;all&#39; plots all actions (if multiple are applied)</span>
    <span class="n">additional_plots</span><span class="o">=</span><span class="p">[</span><span class="n">MeanEpisodeRewardPlot</span><span class="p">()]</span> <span class="c1"># Add all further plots here</span>
<span class="p">)</span>

<span class="c1"># pass it to the environment</span>
<span class="n">env</span> <span class="o">=</span> <span class="n">gem</span><span class="o">.</span><span class="n">make</span><span class="p">(</span><span class="s1">&#39;my-env-id-v0&#39;</span><span class="p">,</span> <span class="n">visualization</span><span class="o">=</span><span class="n">dashboard</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="motor-dashboard-api">
<h2><a class="toc-backref" href="#id3">Motor Dashboard API</a><a class="headerlink" href="#motor-dashboard-api" title="Permalink to this headline"></a></h2>
<dl class="class">
<dt id="gym_electric_motor.visualization.motor_dashboard.MotorDashboard">
<em class="property">class </em><code class="sig-prename descclassname">gym_electric_motor.visualization.motor_dashboard.</code><code class="sig-name descname">MotorDashboard</code><span class="sig-paren">(</span><em class="sig-param">state_plots=()</em>, <em class="sig-param">action_plots=()</em>, <em class="sig-param">reward_plot=False</em>, <em class="sig-param">additional_plots=()</em>, <em class="sig-param">update_interval=1000</em>, <em class="sig-param">time_plot_width=10000</em>, <em class="sig-param">style=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/gym_electric_motor/visualization/motor_dashboard.html#MotorDashboard"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gym_electric_motor.visualization.motor_dashboard.MotorDashboard" title="Permalink to this definition"></a></dt>
<dd><p>A dashboard to plot the GEM states into graphs.</p>
<p>Every MotorDashboard consists of multiple MotorDashboardPlots that are each responsible for the plots in a single
matplotlib axis.</p>
<p>It handles three different types of plots: The TimePlot, EpisodePlot and StepPlot which especially differ in
their x-Axis. The time plots plot every step and have got the time on the x-Axis. The EpisodicPlots plot statistics
over the episodes (e.g. mean reward per step in each episode). The episode number is on their x-Axis. The
StepPlots plot statistics over the last taken steps (e.g. mean reward over the last 1000 steps) and their x-Axis
are the cumulative number of steps.</p>
<p>The StepPlots, EpisodicPlots and TimePlots each are plotted into three separate figures.</p>
<p>The most common TimePlots (i.e to plot the states, actions and rewards) can be plotted by just passing the
corresponding arguments in the constructor. Additional plots (e.g. the MeanEpisodeRewardPlot) have to be
initialized manually and passed to the constructor.</p>
<p>Furthermore, completely custom plots can be defined. They have to derive from the TimePlot, EpisodePlot or
StepPlot base classes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state_plots</strong> (<em>'all'/iterable</em><em>(</em><em>str</em><em>)</em>) – An iterable of state names to be shown. If ‘all’ all states will be shown.
Default: () (no plotted states)</p></li>
<li><p><strong>action_plots</strong> (<em>'all'/iterable</em><em>(</em><em>int</em><em>)</em>) – If action_plots=’all’, all actions will be plotted. If more than one
action can be applied on the environment it can be selected by its index.
Default: () (no plotted actions).</p></li>
<li><p><strong>reward_plot</strong> (<em>boolean</em>) – Select if the current reward is to be plotted. Default: False</p></li>
<li><p><strong>additional_plots</strong> (<em>iterable</em><em>(</em><em>(</em><em>TimePlot/EpisodePlot/StepPlot</em><em>)</em><em>)</em>) – Additional already instantiated plots
to be shown on the dashboard</p></li>
<li><p><strong>update_interval</strong> (<em>int &gt; 0</em>) – Amount of steps after which the plots are updated. Updating each step reduces the
performance drastically. Default: 1000</p></li>
<li><p><strong>time_plot_width</strong> (<em>int &gt; 0</em>) – Width of the step plots in steps. Default: 10000 steps
(1 second for continuously controlled environments / 0.1 second for discretely controlled environments)</p></li>
<li><p><strong>style</strong> (<em>string</em>) – Select one of the matplotlib-styles. e.g. “dark-background”.
Default: None (the already selected style)</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="gym_electric_motor.visualization.motor_dashboard.MotorDashboard.on_close">
<code class="sig-name descname">on_close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gym_electric_motor.visualization.motor_dashboard.MotorDashboard.on_close" title="Permalink to this definition"></a></dt>
<dd><p>Gets called at the beginning of a close</p>
</dd></dl>

<dl class="method">
<dt id="gym_electric_motor.visualization.motor_dashboard.MotorDashboard.on_reset_begin">
<code class="sig-name descname">on_reset_begin</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/gym_electric_motor/visualization/motor_dashboard.html#MotorDashboard.on_reset_begin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gym_electric_motor.visualization.motor_dashboard.MotorDashboard.on_reset_begin" title="Permalink to this definition"></a></dt>
<dd><p>Called before the environment is reset. All subplots are reset.</p>
</dd></dl>

<dl class="method">
<dt id="gym_electric_motor.visualization.motor_dashboard.MotorDashboard.on_reset_end">
<code class="sig-name descname">on_reset_end</code><span class="sig-paren">(</span><em class="sig-param">state</em>, <em class="sig-param">reference</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/gym_electric_motor/visualization/motor_dashboard.html#MotorDashboard.on_reset_end"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gym_electric_motor.visualization.motor_dashboard.MotorDashboard.on_reset_end" title="Permalink to this definition"></a></dt>
<dd><p>Called after the environment is reset. The initial data is passed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state</strong> (<em>array</em><em>(</em><em>float</em><em>)</em>) – The initial state <span class="math notranslate nohighlight">\(s_0\)</span>.</p></li>
<li><p><strong>reference</strong> (<em>array</em><em>(</em><em>float</em><em>)</em>) – The initial reference for the first time step <span class="math notranslate nohighlight">\(s^*_0\)</span>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gym_electric_motor.visualization.motor_dashboard.MotorDashboard.on_step_begin">
<code class="sig-name descname">on_step_begin</code><span class="sig-paren">(</span><em class="sig-param">k</em>, <em class="sig-param">action</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/gym_electric_motor/visualization/motor_dashboard.html#MotorDashboard.on_step_begin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gym_electric_motor.visualization.motor_dashboard.MotorDashboard.on_step_begin" title="Permalink to this definition"></a></dt>
<dd><p>The information about the last environmental step is passed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>k</strong> (<em>int</em>) – The current episode step.</p></li>
<li><p><strong>action</strong> (<em>ndarray</em><em>(</em><em>float</em><em>) </em><em>/ int</em>) – The taken action <span class="math notranslate nohighlight">\(a_k\)</span>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gym_electric_motor.visualization.motor_dashboard.MotorDashboard.on_step_end">
<code class="sig-name descname">on_step_end</code><span class="sig-paren">(</span><em class="sig-param">k</em>, <em class="sig-param">state</em>, <em class="sig-param">reference</em>, <em class="sig-param">reward</em>, <em class="sig-param">done</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/gym_electric_motor/visualization/motor_dashboard.html#MotorDashboard.on_step_end"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gym_electric_motor.visualization.motor_dashboard.MotorDashboard.on_step_end" title="Permalink to this definition"></a></dt>
<dd><p>The information after the step is passed</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>k</strong> (<em>int</em>) – The current episode step</p></li>
<li><p><strong>state</strong> (<em>array</em><em>(</em><em>float</em><em>)</em>) – The state of the env after the step <span class="math notranslate nohighlight">\(s_k\)</span>.</p></li>
<li><p><strong>reference</strong> (<em>array</em><em>(</em><em>float</em><em>)</em>) – The reference corresponding to the state <span class="math notranslate nohighlight">\(s^*_k\)</span>.</p></li>
<li><p><strong>reward</strong> (<em>float</em>) – The reward that has been received for the last action that lead to the current state
<span class="math notranslate nohighlight">\(r_{k}\)</span>.</p></li>
<li><p><strong>done</strong> (<em>bool</em>) – Flag, that indicates, if the last action lead to a terminal state <span class="math notranslate nohighlight">\(t_{k}\)</span>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gym_electric_motor.visualization.motor_dashboard.MotorDashboard.render">
<code class="sig-name descname">render</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/gym_electric_motor/visualization/motor_dashboard.html#MotorDashboard.render"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gym_electric_motor.visualization.motor_dashboard.MotorDashboard.render" title="Permalink to this definition"></a></dt>
<dd><p>Updates the plots every <em>update cycle</em> calls of this method.</p>
</dd></dl>

<dl class="method">
<dt id="gym_electric_motor.visualization.motor_dashboard.MotorDashboard.reset_figures">
<code class="sig-name descname">reset_figures</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/gym_electric_motor/visualization/motor_dashboard.html#MotorDashboard.reset_figures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gym_electric_motor.visualization.motor_dashboard.MotorDashboard.reset_figures" title="Permalink to this definition"></a></dt>
<dd><p>Method to reset the figures to the initial state.</p>
<p>This method can be called, when the plots shall be reset after the training and before the test, for example.
Another use case, that requires the call of this method by the user, is when the dashboard is executed within
a jupyter notebook and the figures shall be plotted below a new cell.</p>
</dd></dl>

<dl class="method">
<dt id="gym_electric_motor.visualization.motor_dashboard.MotorDashboard.set_env">
<code class="sig-name descname">set_env</code><span class="sig-paren">(</span><em class="sig-param">env</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/gym_electric_motor/visualization/motor_dashboard.html#MotorDashboard.set_env"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gym_electric_motor.visualization.motor_dashboard.MotorDashboard.set_env" title="Permalink to this definition"></a></dt>
<dd><p>Called during initialization of the environment to interconnect all modules. State names, references,…
might be saved here for later processing</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>env</strong> (<a class="reference internal" href="../environments/environment.html#gym_electric_motor.core.ElectricMotorEnvironment" title="gym_electric_motor.core.ElectricMotorEnvironment"><em>ElectricMotorEnvironment</em></a>) – The environment.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gym_electric_motor.visualization.motor_dashboard.MotorDashboard.update_interval">
<em class="property">property </em><code class="sig-name descname">update_interval</code><a class="headerlink" href="#gym_electric_motor.visualization.motor_dashboard.MotorDashboard.update_interval" title="Permalink to this definition"></a></dt>
<dd><p>Number of steps until the visualization is updated</p>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="visualization.html" class="btn btn-neutral float-left" title="Visualization" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="motor_dashboard_plots/action_plot.html" class="btn btn-neutral float-right" title="Action Plot" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Praneeth Balakrishna, Gerrit Book, Felix Book, Darius Jakobeit, Wilhelm Kirchgässner, Maximilian Schenke, Arne Traue, Oliver Wallscheid.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>