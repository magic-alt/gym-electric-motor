<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reference Generators &mdash; gym-electric-motor 2021 documentation</title><link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Subepisoded Reference Generator" href="subepisoded_reference_generator.html" />
    <link rel="prev" title="Finite Control Set Torque Control Doubly Fed Induction Motor Environment" href="../environments/dfim/finite_tc_dfim.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> gym-electric-motor
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Gym Electric Motor Readme:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../readme.html">Readme File</a></li>
</ul>
<p class="caption"><span class="caption-text">gym-electric-motor Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../environments/environment.html">Environments</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Reference Generators</a><ul>
<li class="toctree-l2"><a class="reference internal" href="subepisoded_reference_generator.html">Subepisoded Reference Generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="wiener_process_reference_generator.html">Wiener Process Reference Generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="sinusoidal_reference_generator.html">Sinusoidal Reference Generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="step_reference_generator.html">Step Reference Generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="triangular_reference_generator.html">Triangular Reference Generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="sawtooth_reference_generator.html">Sawtooth Reference Generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="const_reference_generator.html">Constant Reference Generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="zero_reference_generator.html">Zero Reference Generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="multiple_ref_generator.html">Multiple Reference Generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="switched_reference_generator.html">Switched Reference Generator</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reward_functions/reward_function.html">Reward Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../physical_systems/physical_system.html">Physical Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../visualizations/visualization.html">Visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../constraint_monitor.html">Constraint Monitor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core.html">Core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils.html">Utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../callbacks.html">Callbacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../random_component.html">Random Component</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">gym-electric-motor</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Reference Generators</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/parts/reference_generators/reference_generator.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="reference-generators">
<h1>Reference Generators<a class="headerlink" href="#reference-generators" title="Permalink to this headline"></a></h1>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">Available Reference Generators:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="subepisoded_reference_generator.html">Subepisoded Reference Generator</a></li>
<li class="toctree-l1"><a class="reference internal" href="wiener_process_reference_generator.html">Wiener Process Reference Generator</a></li>
<li class="toctree-l1"><a class="reference internal" href="sinusoidal_reference_generator.html">Sinusoidal Reference Generator</a></li>
<li class="toctree-l1"><a class="reference internal" href="step_reference_generator.html">Step Reference Generator</a></li>
<li class="toctree-l1"><a class="reference internal" href="triangular_reference_generator.html">Triangular Reference Generator</a></li>
<li class="toctree-l1"><a class="reference internal" href="sawtooth_reference_generator.html">Sawtooth Reference Generator</a></li>
<li class="toctree-l1"><a class="reference internal" href="const_reference_generator.html">Constant Reference Generator</a></li>
<li class="toctree-l1"><a class="reference internal" href="zero_reference_generator.html">Zero Reference Generator</a></li>
<li class="toctree-l1"><a class="reference internal" href="multiple_ref_generator.html">Multiple Reference Generator</a></li>
<li class="toctree-l1"><a class="reference internal" href="switched_reference_generator.html">Switched Reference Generator</a></li>
</ul>
</div>
<div class="section" id="reference-generator-base-class">
<h2>Reference Generator Base Class<a class="headerlink" href="#reference-generator-base-class" title="Permalink to this headline"></a></h2>
<dl class="class">
<dt id="gym_electric_motor.core.ReferenceGenerator">
<em class="property">class </em><code class="sig-prename descclassname">gym_electric_motor.core.</code><code class="sig-name descname">ReferenceGenerator</code><a class="reference internal" href="../../_modules/gym_electric_motor/core.html#ReferenceGenerator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gym_electric_motor.core.ReferenceGenerator" title="Permalink to this definition"></a></dt>
<dd><p>The abstract base class for reference generators in gym electric motor environments.</p>
<dl class="simple">
<dt>reference_space:</dt><dd><p>Space of reference observations as defined in the OpenAI Gym Toolbox.</p>
</dd>
</dl>
<p>The reference generator is called twice per step.</p>
<dl>
<dt>Call of get_reference():</dt><dd><p>Returns the reference array which has the same shape as the state array and contains
values for currently referenced state variables and a default value (e.g zero) for non-referenced variables.
This reference array is used to calculate rewards.</p>
<dl>
<dt>Example:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">reference_array=np.array([0.8,</span> <span class="pre">0.0,</span> <span class="pre">0.0,</span> <span class="pre">0.0])</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">state_variables=['omega',</span> <span class="pre">'torque',</span> <span class="pre">'i',</span> <span class="pre">'u',</span> <span class="pre">'u_sup']</span></code></p>
<p>Here, the state consists of five quantities but only <code class="docutils literal notranslate"><span class="pre">'omega'</span></code> is referenced during control.</p>
</dd>
</dl>
</dd>
<dt>Call of get_reference_observation():</dt><dd><p>Returns the reference observation, which is shown to the agent.
Any shape and content is generally valid, however, values must be within the declared reference space.
For example, the reference observation may contain future reference values of the next <code class="docutils literal notranslate"><span class="pre">n</span></code> steps.</p>
<dl>
<dt>Example:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">reference_observation</span> <span class="pre">=</span> <span class="pre">np.array([0.8,</span> <span class="pre">0.6,</span> <span class="pre">0.4])</span></code></p>
<p>This reference observation may be valid for an omega-controlled environment that shows the agent not
only the reference for the next time step omega_(t+1)=0.8 but also omega_(t+2)=0.6 and omega_(t+3)=0.4.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="gym_electric_motor.core.ReferenceGenerator.close">
<code class="sig-name descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/gym_electric_motor/core.html#ReferenceGenerator.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gym_electric_motor.core.ReferenceGenerator.close" title="Permalink to this definition"></a></dt>
<dd><p>Called by the environment, when the environment is deleted to close files, store logs, etc.</p>
</dd></dl>

<dl class="method">
<dt id="gym_electric_motor.core.ReferenceGenerator.get_reference">
<code class="sig-name descname">get_reference</code><span class="sig-paren">(</span><em class="sig-param">state</em>, <em class="sig-param">*_</em>, <em class="sig-param">**__</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/gym_electric_motor/core.html#ReferenceGenerator.get_reference"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gym_electric_motor.core.ReferenceGenerator.get_reference" title="Permalink to this definition"></a></dt>
<dd><p>Returns the reference array of the current time step.</p>
<p>The reference array needs to be in the same shape as the state variables. For referenced states the reference
value is passed. For unreferenced states a default value (e.g. Zero) can be set in the reference array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>state</strong> (<em>ndarray</em><em>(</em><em>float</em><em>)</em>) – Current state array of the environment.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Current reference array.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray(float))</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gym_electric_motor.core.ReferenceGenerator.get_reference_observation">
<code class="sig-name descname">get_reference_observation</code><span class="sig-paren">(</span><em class="sig-param">state</em>, <em class="sig-param">*_</em>, <em class="sig-param">**__</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/gym_electric_motor/core.html#ReferenceGenerator.get_reference_observation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gym_electric_motor.core.ReferenceGenerator.get_reference_observation" title="Permalink to this definition"></a></dt>
<dd><p>Returns the reference observation for the next time step. This observation needs to fit in the reference space.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>state</strong> (<em>ndarray</em><em>(</em><em>float</em><em>)</em>) – Current state array of the environment.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Observation for the next reference time step.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>value in reference_space</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gym_electric_motor.core.ReferenceGenerator.reference_names">
<em class="property">property </em><code class="sig-name descname">reference_names</code><a class="headerlink" href="#gym_electric_motor.core.ReferenceGenerator.reference_names" title="Permalink to this definition"></a></dt>
<dd><p>Returns:
reference_names(list(str)): A list containing all names of the referenced states in the reference
observation.</p>
</dd></dl>

<dl class="method">
<dt id="gym_electric_motor.core.ReferenceGenerator.referenced_states">
<em class="property">property </em><code class="sig-name descname">referenced_states</code><a class="headerlink" href="#gym_electric_motor.core.ReferenceGenerator.referenced_states" title="Permalink to this definition"></a></dt>
<dd><p>Returns:
ndarray(bool): Boolean-Array with the length of the state_variables indicating which states are referenced.</p>
</dd></dl>

<dl class="method">
<dt id="gym_electric_motor.core.ReferenceGenerator.reset">
<code class="sig-name descname">reset</code><span class="sig-paren">(</span><em class="sig-param">initial_state=None</em>, <em class="sig-param">initial_reference=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/gym_electric_motor/core.html#ReferenceGenerator.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gym_electric_motor.core.ReferenceGenerator.reset" title="Permalink to this definition"></a></dt>
<dd><p>Reset of references for a new episode.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>initial_state</strong> (<em>ndarray</em><em>(</em><em>float</em><em>)</em>) – The initial state array of the environment.</p></li>
<li><p><strong>initial_reference</strong> (<em>ndarray</em><em>(</em><em>float</em><em>)</em>) – If not None: A desired initial reference array.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>The reference array at time step 0.</p>
<p>reference_observation(value in reference_space): The reference observation for the next time step. </p>
<p>trajectories(dict(list(float)): If available,                 generated trajectories for the Visualization can be passed here. Otherwise return None.</p>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>reference_array(ndarray(float))</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gym_electric_motor.core.ReferenceGenerator.set_modules">
<code class="sig-name descname">set_modules</code><span class="sig-paren">(</span><em class="sig-param">physical_system</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/gym_electric_motor/core.html#ReferenceGenerator.set_modules"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gym_electric_motor.core.ReferenceGenerator.set_modules" title="Permalink to this definition"></a></dt>
<dd><p>Announcement of the PhysicalSystem to the ReferenceGenerator.</p>
<p>In subclasses, store all important information from the physical system to the ReferenceGenerator here.
The environment announces the physical system to the ReferenceGenerator during its initialization.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>physical_system</strong> (<a class="reference internal" href="../physical_systems/physical_system.html#gym_electric_motor.core.PhysicalSystem" title="gym_electric_motor.core.PhysicalSystem"><em>PhysicalSystem</em></a>) – The physical system of the environment.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../environments/dfim/finite_tc_dfim.html" class="btn btn-neutral float-left" title="Finite Control Set Torque Control Doubly Fed Induction Motor Environment" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="subepisoded_reference_generator.html" class="btn btn-neutral float-right" title="Subepisoded Reference Generator" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Praneeth Balakrishna, Gerrit Book, Felix Book, Darius Jakobeit, Wilhelm Kirchgässner, Maximilian Schenke, Arne Traue, Oliver Wallscheid.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>